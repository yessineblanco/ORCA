{% extends 'base_BACK.html.twig' %}

{% block title %}Product index{% endblock %}

{% block body %}

    <div class="container">
    <h1>Product List</h1>
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12 offset-md-11">
                        <form action="{{ path('search_product')}}" method="GET">
                            <div class="input-group">
                                <input type="search" class="form-control form-control-lg" placeholder="Entrer le nom d'un produit" id="site-search" name="search">
                                <div class="input-group-append">
                                    <button  class="btn btn-lg btn-default">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
       <button> <a href="{{ path('pdfp')}}" class="btn btn-primary">PDF</a></button>

        <table class="table">
        <thead>
            <tr>
                <th>ProductName</th>
                <th>ProductDescription</th>
                <th>ProductPrice</th>
                <th>UpdateDate</th>
                <th>ProductQuantity</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for product in products %}
            <tr>
                <td>{{ product.ProductName }}</td>
                <td>{{ product.ProductDescription }}</td>
                <td>{{ product.ProductPrice }}</td>
                <td>{{ product.UpdateDate ? product.UpdateDate|date('Y-m-d') : '' }}</td>
                <td>{{ product.ProductQuantity }}</td>
                <td>
                    <a href="{{ path('app_product_edit', {'id': product.id}) }}">edit</a>
                    <a href="{{ path('app_product_show_back', {'id': product.id}) }}">show </a>
                </td>
            </tr>

        {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
        {% endfor %}

        </tbody>

    </table>
        <span>{{ knp_pagination_render(products) }}</span>

    <a href="{{ path('app_product_new') }}">Create new</a>
    </div>
{% endblock %}
